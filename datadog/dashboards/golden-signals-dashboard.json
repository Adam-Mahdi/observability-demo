{
  "title": "Golden Signals - Production Services",
  "description": "Real-time monitoring of the four golden signals across all production services",
  "widgets": [
    {
      "id": 1,
      "definition": {
        "title": "Service Latency (p95)",
        "type": "timeseries",
        "requests": [
          {
            "q": "avg:trace.http.request.duration.p95{env:production} by {service}",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "yaxis": {
          "label": "Latency (ms)",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "markers": [
          {
            "value": "y = 500",
            "display_type": "error dashed",
            "label": "SLO Threshold"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 3
      }
    },
    {
      "id": 2,
      "definition": {
        "title": "Request Rate",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:trace.http.request.hits{env:production} by {service}.as_rate()",
            "display_type": "bars",
            "style": {
              "palette": "green"
            }
          }
        ],
        "yaxis": {
          "label": "Requests/s",
          "scale": "linear",
          "include_zero": true
        }
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 3
      }
    },
    {
      "id": 3,
      "definition": {
        "title": "Error Rate",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:trace.http.request.errors{env:production} by {service}.as_rate() / sum:trace.http.request.hits{env:production} by {service}.as_rate() * 100",
            "display_type": "line",
            "style": {
              "palette": "warm"
            }
          }
        ],
        "yaxis": {
          "label": "Error %",
          "scale": "linear",
          "min": 0,
          "max": 5,
          "include_zero": true
        },
        "markers": [
          {
            "value": "y = 1",
            "display_type": "warning dashed",
            "label": "1% threshold"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 3,
        "width": 6,
        "height": 3
      }
    },
    {
      "id": 4,
      "definition": {
        "title": "Resource Saturation",
        "type": "heatmap",
        "requests": [
          {
            "q": "avg:kubernetes.cpu.usage.total{env:production} by {pod_name}",
            "style": {
              "palette": "YlOrRd"
            }
          }
        ],
        "yaxis": {
          "label": "CPU %",
          "scale": "linear",
          "min": 0,
          "max": 100,
          "include_zero": true
        }
      },
      "layout": {
        "x": 6,
        "y": 3,
        "width": 6,
        "height": 3
      }
    },
    {
      "id": 5,
      "definition": {
        "title": "Service Health Score",
        "type": "query_value",
        "requests": [
          {
            "q": "avg:custom.service.health.score{env:production}",
            "aggregator": "avg"
          }
        ],
        "custom_unit": "/100",
        "precision": 1,
        "text_align": "center"
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 3,
        "height": 2
      }
    },
    {
      "id": 6,
      "definition": {
        "title": "Active Incidents",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:custom.incidents.active{env:production}",
            "aggregator": "last"
          }
        ],
        "precision": 0,
        "text_align": "center",
        "conditional_formats": [
          {
            "comparator": ">",
            "value": 0,
            "palette": "red",
            "custom_bg_color": "#ff0000",
            "custom_fg_color": "#ffffff"
          }
        ]
      },
      "layout": {
        "x": 3,
        "y": 6,
        "width": 3,
        "height": 2
      }
    },
    {
      "id": 7,
      "definition": {
        "title": "MTTR (Current Month)",
        "type": "query_value",
        "requests": [
          {
            "q": "avg:custom.mttr.minutes{env:production}",
            "aggregator": "avg"
          }
        ],
        "custom_unit": "min",
        "precision": 0,
        "text_align": "center"
      },
      "layout": {
        "x": 6,
        "y": 6,
        "width": 3,
        "height": 2
      }
    },
    {
      "id": 8,
      "definition": {
        "title": "SLO Compliance",
        "type": "slo",
        "slo_id": "payment-service-availability",
        "view_type": "detail",
        "time_windows": ["30d", "7d", "1d"],
        "show_error_budget": true
      },
      "layout": {
        "x": 9,
        "y": 6,
        "width": 3,
        "height": 2
      }
    }
  ],
  "template_variables": [
    {
      "name": "env",
      "default": "production",
      "available_values": ["production", "staging", "development"]
    },
    {
      "name": "service",
      "default": "*",
      "available_values": ["payment-service", "order-service", "inventory-service", "*"]
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}